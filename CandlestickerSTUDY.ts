# CANDLESTICKER
# WGRIFFITH2 (C) 2014

INPUT LENGTH = 20;
INPUT TRENDSETUP = 10;
INPUT CANDLEFACTOR = 0.3;
INPUT KPERIOD = 14;
INPUT DPERIOD = 3;

# STOCHASTICSLOW
DEF FASTLINE = STOCHASTICSLOW("D PERIOD" = DPERIOD, "K PERIOD" = KPERIOD);
DEF SLOWLINE = STOCHASTICSLOW("D PERIOD" = DPERIOD, "K PERIOD" = KPERIOD).SLOWD;

PLOT BULLISH = (MORNINGSTAR(length = LENGTH, "trend setup" = TRENDSETUP) OR
PIERCINGLINE(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEWHITESOLDIERS(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEINSIDEUP(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEOUTSIDEUP(length = LENGTH, "trend setup" = TRENDSETUP)) 
AND LOWEST(FASTLINE, 3) <= 20;

PLOT BEARISH = (EVENINGSTAR(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEBLACKCROWS(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEINSIDEDOWN(length = LENGTH, "trend setup" = TRENDSETUP) OR
THREEOUTSIDEDOWN(length = LENGTH, "trend setup" = TRENDSETUP) OR
DARKCLOUDCOVER(length = LENGTH, "trend setup" = TRENDSETUP))
AND HIGHEST(FASTLINE, 3) >= 80;

BULLISH.SETDEFAULTCOLOR(CREATECOLOR(128, 128, 128));
BULLISH.SETPAINTINGSTRATEGY(PAINTINGSTRATEGY.BOOLEAN_ARROW_UP);
BEARISH.SETDEFAULTCOLOR(CREATECOLOR(128, 128, 128));
BEARISH.SETPAINTINGSTRATEGY(PAINTINGSTRATEGY.BOOLEAN_ARROW_DOWN);
#########################################