# SWINGENTRY
# WGRIFFITH2 (C) 2014

DECLARE UPPER;

INPUT KPERIOD = 14;
INPUT DPERIOD = 3;
INPUT EMA = 15;

# STOCHASTICSLOW
DEF FASTLINE = STOCHASTICSLOW("D PERIOD" = DPERIOD, "K PERIOD" = KPERIOD);
DEF SLOWLINE = STOCHASTICSLOW("D PERIOD" = DPERIOD, "K PERIOD" = KPERIOD).SLOWD;

DEF GMMA6 = EXPAVERAGE(Close,EMA);

# TEST
DEF GREENPRICE = FASTLINE >= SLOWLINE;
DEF REDPRICE = FASTLINE < SLOWLINE;

PLOT BULL =
!REDPRICE
AND CLOSE >= GMMA6
AND (CLOSE[1] < GMMA6[1] OR OPEN < GMMA6)
AND FASTLINE <= 60;

PLOT BEAR =
!GREENPRICE
AND CLOSE <= GMMA6
AND (CLOSE[1] > GMMA6[1] OR OPEN > GMMA6)
AND FASTLINE >= 40;

BULL.SETDEFAULTCOLOR(CREATECOLOR(0, 255, 0));
BULL.SETPAINTINGSTRATEGY(PAINTINGSTRATEGY.BOOLEAN_ARROW_UP);
BEAR.SETDEFAULTCOLOR(CREATECOLOR(255, 0, 0));
BEAR.SETPAINTINGSTRATEGY(PAINTINGSTRATEGY.BOOLEAN_ARROW_DOWN);